<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ============================= -->
  <!-- META -->
  <!-- ============================= -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Practitioner Application | MediBook</title>

  <!-- ============================= -->
  <!-- BOOTSTRAP -->
  <!-- ============================= -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <!-- ============================= -->
  <!-- PAGE STYLES -->
  <!-- ============================= -->
  <style>
    body {
      background: #eef2f5;
    }

    .page-wrapper {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .register-card {
      width: 100%;
      max-width: 520px;
      border-radius: 16px;
      border: none;
    }

    .brand {
      font-weight: 700;
      color: #2c3e50;
      letter-spacing: 0.4px;
    }

    .subtitle {
      font-size: 0.9rem;
      color: #6c757d;
    }

    .form-control,
    .form-select {
      border-radius: 10px;
      padding: 10px 12px;
    }

    .btn-success {
      border-radius: 10px;
      font-weight: 600;
    }

    .small-note {
      font-size: 12px;
      color: #6c757d;
    }

    .nav-link-small {
      font-size: 0.85rem;
    }
  </style>
</head>

<body>

<!-- ============================= -->
<!-- MAIN WRAPPER -->
<!-- ============================= -->
<div class="page-wrapper">

  <div class="card shadow-sm register-card p-4">

    <!-- ============================= -->
    <!-- HEADER -->
    <!-- ============================= -->
    <div class="text-center mb-4">
      <div class="brand">MediBook</div>
      <div class="subtitle">Practitioner application</div>
    </div>

    <!-- ============================= -->
    <!-- ERROR MESSAGE -->
    <!-- ============================= -->
    <% if (error) { %>
      <div class="alert alert-danger py-2">
        <%= error %>
      </div>
    <% } %>

    <!-- ============================= -->
    <!-- APPLICATION FORM -->
    <!-- ============================= -->
    <form method="POST" action="/practitioner/register">

      <!-- FULL NAME -->
      <div class="mb-3">
        <input
          type="text"
          name="full_name"
          class="form-control"
          placeholder="Full name"
          value="<%= formData?.full_name || '' %>"
          required
        >
      </div>

      <!-- EMAIL -->
      <div class="mb-3">
        <input
          type="email"
          name="email"
          class="form-control"
          placeholder="Professional email"
          value="<%= formData?.email || '' %>"
          required
        >
      </div>

      <!-- PASSWORD -->
      <div class="mb-3">
        <input
          type="password"
          name="password"
          class="form-control"
          placeholder="Password"
          required
          pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$"
          title="8+ characters with uppercase, lowercase, number and symbol."
        >
      </div>

      <!-- CONFIRM PASSWORD -->
      <div class="mb-3">
        <input
          type="password"
          name="confirm_password"
          class="form-control"
          placeholder="Confirm password"
          required
        >
      </div>

      <!-- PASSWORD REQUIREMENTS -->
      <div class="small-note mb-3">
        8+ characters • Uppercase • Lowercase • Number • Symbol
      </div>

      <!-- SERVICE SELECT -->
      <div class="mb-3">
        <select name="service_id" class="form-select" required>
          <option value="">Select service</option>
          <% services.forEach(s => { %>
            <option value="<%= s.id %>"
              <%= formData?.service_id == s.id ? "selected" : "" %>>
              <%= s.name %>
            </option>
          <% }) %>
        </select>
      </div>

      <!-- BIO -->
      <div class="mb-4">
        <textarea
          name="bio"
          rows="3"
          class="form-control"
          placeholder="Short professional summary (optional)"
        ><%= formData?.bio || '' %></textarea>
      </div>

      <!-- SUBMIT BUTTON -->
      <div class="d-grid">
        <button class="btn btn-success">
          Submit application
        </button>
      </div>

    </form>

    <!-- ============================= -->
    <!-- FOOTER LINKS -->
    <!-- ============================= -->
    <div class="text-center mt-4 nav-link-small">
      Already registered?
      <a href="/login" class="text-decoration-none fw-semibold">
        Login
      </a>
    </div>

    <div class="text-center mt-2 nav-link-small">
      Looking to book an appointment?
      <a href="/register" class="text-decoration-none">
        Create patient account
      </a>
    </div>

  </div>

</div>

</body>
</html>
